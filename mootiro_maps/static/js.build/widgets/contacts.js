var ContactsWidget={updateValues:function(e){var t={};e.contactsListField.find(".contact-kv input").each(function(e,n){n=$(n),t[n.data("key")]=n.val()===""?null:n.val()}),e.field.val(JSON.stringify(t))},listen:function(){var e=this;e.contactsListField.find(".contact-kv input").change(function(){e.updateValues(e)})},onLoad:function(){this.field=$("#id_contacts"),this.contactsListField=$(".contacts-list");var e=JSON.parse(this.field.val());this.loadInitialValues(e),this.listen()},getKeyName:function(e){return this.field.data("key-names")[e]},keyOrder:function(){return["address","compl","city","postal_code","phone","facebook","email","twitter","site","other"]},loadInitialValues:function(e){var t=this;_.each(t.keyOrder(),function(n){var r=e[n];t.renderKeyValuePair(n,t.getKeyName(n),r)})},renderKeyValuePair:function(e,t,n){this.contactsListField.append('<div class="contact-kv"><label>'+t+"</label>"+"<input type='text' value='"+(n||"")+"' data-key='"+e+"' />"+"</div>")}};$(function(){ContactsWidget.onLoad()});